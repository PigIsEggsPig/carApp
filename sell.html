<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>卖车</title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <script type="text/javascript" src="js/js.js"></script>
    <link type="text/css" href="css/style.css" rel="stylesheet" />
</head>
<body>
<ul class="filter">
    <li class="Jssel" id="filter">筛选</li>
    <li class="Jssel" id="brand">品牌</li>
    <li class="Jssel" id="sort">类型</li>
</ul>

<ul class="manage_list list">
    <li>
        <a class="mg_list" href="sell_detail.html">
            <span class="mg_img"><img src="images/0.jpg" /></span>
            <dl class="mg_ifo">
                <dt>15款奔驰ML350中东四驱3.0T</dt>
                <dd>
                    <span class="fl">75.5<i>万元</i></span>
                    <span class="fr">浏览 134</span>
                </dd>
            </dl>
        </a>
    </li>
    <li>
        <a class="mg_list" href="sell_detail.html">
            <span class="mg_img"><img src="images/0.jpg" /></span>
            <dl class="mg_ifo">
                <dt>15款奔驰ML350中东四驱3.0T</dt>
                <dd>
                    <span class="fl">75.5<i>万元</i></span>
                    <span class="fr">浏览 134</span>
                </dd>
            </dl>
        </a>
    </li>
</ul>

<div class="fix">
    <!---筛选-->
    <ul id="filterUl">
        <li>品牌</li>
        <li>外色</li>
        <li>内色</li>
        <li>车型</li>
    </ul>


    <!---品牌 车系 车型-->
    <ul id="brandUl" style="display: none;">
        <li>
            <a href="javascript:void(0)">奔驰</a>
            <ul style="display: none;">
                <li>
                    <a href="javascript:void(0)">C系</a>
                    <ul style="display: none;">
                        <li><a href="javascript:void(0)">c63</a></li>
                        <li><a href="javascript:void(0)">c180</a></li>
                        <li><a href="javascript:void(0)">c200</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:void(0)">E系</a>
                    <ul style="display: none;">
                        <li><a href="javascript:void(0)">E63</a></li>
                        <li><a href="javascript:void(0)">E180</a></li>
                        <li><a href="javascript:void(0)">E200</a></li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <a href="javascript:void(0)">宝马</a>
            <ul style="display: none;">
                <li>
                    <a href="javascript:void(0)">C系</a>
                    <ul style="display: none;">
                        <li><a href="javascript:void(0)">c63</a></li>
                        <li><a href="javascript:void(0)">c180</a></li>
                        <li><a href="javascript:void(0)">c200</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:void(0)">E系</a>
                    <ul style="display: none;">
                        <li><a href="javascript:void(0)">E63</a></li>
                        <li><a href="javascript:void(0)">E180</a></li>
                        <li><a href="javascript:void(0)">E200</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    <!---类型-->
    <ul id="sortUl" style="display: none;">
        <li><a href="javascript:void(0)">欧版现货</a></li>
        <li><a href="javascript:void(0)">港版现货</a></li>
    </ul>
    <!--确认筛选等-->
    <form class="fix_btn">
        <div class="fix_content">
            <strong>筛选条件：</strong>
        </div>
        <div class="fix_button">
            <input class="fix_submit" type="submit" value="确认" />
            <input class="fix_cancel" type="button" value="取消" />
        </div>
    </form>
</div>

<div id="footer">
    <ul class="footNav clearfix">
        <li><a href="index.html">首页</a></li>
        <li><a href="notice.html">通知</a></li>
    </ul>
</div>

<script>
    var lis=document.querySelectorAll(".Jssel");
    var fixObj=document.querySelector(".fix");
    var fixBtn=document.querySelector(".fix_btn");
    for(var i=0;i<lis.length;i++)
    {
        lis[i].onclick=function(){
            var uls=fixObj.getElementsByTagName('ul');
            for(var k=0;k<uls.length;k++)
            {
                uls[k].style.display='none';
            }
            var thisID=this.id;
            fixObj.className="fix fixIn";
            document.querySelector("#"+thisID+"Ul").style.display="";
            fixBtn.className="fix_btn fixIn";
        }
    }

    fixObj.onclick=function(e){
        var event=e ||window.event;
        var target=event.target || event.srcElement;
        if(target.nodeName.toLowerCase()=="div")
        {
            fixObj.className="fix fixOut";
            fixBtn.className="fix_btn fixOut";
        }
        else if(target.nodeName.toLowerCase()=="a")
        {
            var oSibingsUl=target.parentNode.getElementsByTagName('ul')[0];
            //var val=target.innerHTML;
            //var ulIdObj=parentObj(target);

            if(oSibingsUl)
            {
                if(oSibingsUl.style.display.indexOf('none')!=-1)
                    oSibingsUl.style.display='';
                else
                    oSibingsUl.style.display='none';
            }
            /*else
            {
                fixObj.className="fix fixOut";
                var uls=fixObj.getElementsByTagName('ul');
                for(var k=0;k<uls.length;k++)
                {
                    uls[k].style.display='none';
                }
            }*/
        }
    }

    /*类型*/
    var sortUlas=document.querySelectorAll("#sortUl a");
    var fixContent=document.querySelector(".fix_content");
    for(var i=0;i<sortUlas.length;i++)
    {
        sortUlas[i].onclick=function(){
            var val=this.innerHTML;
            var oldSpan=document.querySelectorAll(".fix_content span")[0];
            var ulIdObj=parentObj(this);
            var ulId=ulIdObj.id;
            var span=document.createElement('span');
            span.innerHTML=val+"<input type='hidden' value='"+val+"' name='"+ulId+"' />";
            if(oldSpan)
                fixContent.replaceChild(span,oldSpan);
            else
                fixContent.appendChild(span);
        }
    }

    /*品牌*/
    var brandUlAs=document.querySelectorAll("#brandUl a");
    for(var i=0;i<brandUlAs.length;i++)
    {

        if(brandUlAs[i].parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id)
        {
            brandUlAs[i].onclick=function() {
                var as = this.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByTagName('a');
                var valA = as[0].innerHTML;
                var valB = as[1].innerHTML;
                var val=this.innerHTML;
                var oldSpan=document.querySelectorAll(".fix_content span")[0];
                var ulIdObj=parentObj(this);
                var ulId=ulIdObj.id;
                var span=document.createElement('span');
                val=valA+" "+valB+" "+val;
                span.innerHTML=val+"<input type='hidden' value='"+val+"' name='"+ulId+"' />";
                if(oldSpan)
                    fixContent.replaceChild(span,oldSpan);
                else
                    fixContent.appendChild(span);
            }
        }
    }

    /*取消*/
    var fixCancel=document.querySelector(".fix_cancel");
    fixCancel.onclick=function(){
        fixContent.innerHTML="<strong>筛选条件：</strong>";
    }
</script>
</body>
</html>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                